# MCP Configuration for Hummingbot Integration
# This file configures the Model Context Protocol (MCP) integration
# for Hummingbot Gateway trading operations

mcp:
  # Enable/disable MCP integration
  enabled: true

  # Hummingbot Gateway configuration
  gateway:
    url: "http://localhost:15888"
    timeout_seconds: 30

    # Retry policy for failed requests
    retry:
      max_attempts: 3
      backoff_ms: 1000
      exponential_backoff: true

  # Connector configuration
  connector:
    name: "oanda"  # Default connector (can be overridden per agent)

  # Available MCP tools (can be selectively enabled/disabled)
  tools:
    enabled:
      - place_order
      - cancel_order
      - get_balance
      - get_positions
      - get_market_data
      - get_order_status
      - check_gateway_status
      - check_connector_status
      - get_open_orders
      - close_position

  # Tool-specific configurations
  tool_config:
    place_order:
      default_time_in_force: "GTC"
      validate_parameters: true

    get_balance:
      cache_ttl_seconds: 5

    get_positions:
      cache_ttl_seconds: 2

    get_market_data:
      cache_ttl_seconds: 1

  # Logging configuration for MCP operations
  logging:
    log_tool_calls: true
    log_tool_results: true
    log_level: "INFO"

  # Development/Testing options
  development:
    # Use mock responses if MCP server not available
    use_mock_fallback: true

    # Mock response delay (milliseconds)
    mock_delay_ms: 100

    # Simulate failures for testing
    simulate_failures: false
    failure_rate: 0.0

# Agent-specific MCP configurations
agents:
  system_init:
    mcp_enabled: true
    required_tools:
      - check_gateway_status
      - check_connector_status
      - get_balance

  entry_execution:
    mcp_enabled: true
    required_tools:
      - place_order
      - get_order_status
      - get_market_data

  exit_execution:
    mcp_enabled: true
    required_tools:
      - close_position
      - cancel_order
      - get_positions

  trade_management:
    mcp_enabled: true
    required_tools:
      - get_positions
      - get_order_status
      - cancel_order

# MCP Server configuration (if running standalone)
server:
  # Run MCP server as subprocess
  autostart: false

  # Server process configuration
  process:
    command: "python"
    args: ["-m", "tools.hummingbot_mcp_server"]
    cwd: "."

  # Health check
  health_check:
    enabled: true
    interval_seconds: 30
    timeout_seconds: 5
